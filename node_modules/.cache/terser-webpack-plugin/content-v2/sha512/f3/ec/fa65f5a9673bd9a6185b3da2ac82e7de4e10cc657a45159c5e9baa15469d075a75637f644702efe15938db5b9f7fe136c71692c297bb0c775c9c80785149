{"map":"{\"version\":3,\"sources\":[\"/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"452ac3ed-vue-loader-template\\\"}!/home/ky02/ai-project/node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!/home/ky02/ai-project/node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!/home/ky02/ai-project/src/components/graphs/graph_entity.vue?vue&type=template&id=14cb4fd1&scoped=true&\",\"src/components/graphs/graph_entity.vue\",\"/home/ky02/ai-project/node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/pitcher.js??ref--4!/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!/home/ky02/ai-project/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!/home/ky02/ai-project/node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!/home/ky02/ai-project/node_modules/_eslint-loader@2.1.1@eslint-loader/index.js??ref--13-0!/home/ky02/ai-project/node_modules/_eslint-loader@2.1.1@eslint-loader/index.js??ref--13-0!/home/ky02/ai-project/src/components/graphs/graph_entity.vue?vue&type=script&lang=js&\",\"/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!/home/ky02/ai-project/node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!/home/ky02/ai-project/node_modules/_eslint-loader@2.1.1@eslint-loader/index.js??ref--13-0!/home/ky02/ai-project/src/components/graphs/graph_entity.vue\",\"/home/ky02/ai-project/node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/pitcher.js??ref--4!/home/ky02/ai-project/node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!/home/ky02/ai-project/node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!/home/ky02/ai-project/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!/home/ky02/ai-project/node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!/home/ky02/ai-project/node_modules/_eslint-loader@2.1.1@eslint-loader/index.js??ref--13-0!/home/ky02/ai-project/src/components/graphs/graph_entity.vue?vue&type=style&index=0&id=14cb4fd1&scoped=true&lang=css&\"],\"names\":[\"render\",\"_vm\",\"this\",\"_h\",\"$createElement\",\"_c\",\"_self\",\"attrs\",\"type\",\"_l\",\"data\",\"index\",\"key\",\"label\",\"staticClass\",\"id\",\"keyWord\",\"staticRenderFns\",\"echarts\",\"__webpack_require__\",\"graph_entityvue_type_script_lang_js_\",\"name\",\"props\",\"items\",\"Object\",\"default\",\"test\",\"String\",\"mounted\",\"start_draw\",\"methods\",\"itemData\",\"i\",\"console\",\"log\",\"draw_demandMap\",\"transform_data\",\"result\",\"arr\",\"crela\",\"correlation\",\"Math\",\"abs\",\"x\",\"random\",\"y\",\"sqrt\",\"push\",\"value\",\"get_max_min\",\"j\",\"length\",\"flag\",\"tooltip_format\",\"params\",\"round\",\"str\",\"graph_data\",\"graph_title\",\"title\",\"axis_max\",\"chart\",\"document\",\"getElementById\",\"initial\",\"chartParent\",\"parentNode\",\"style\",\"width\",\"clientWidth\",\"margin\",\"height\",\"center_data\",\"center\",\"up_data\",\"up\",\"down_data\",\"down\",\"myChart\",\"init\",\"chart_height\",\"getWidth\",\"chart_width\",\"getHeight\",\"option\",\"text\",\"subtext\",\"left\",\"toolbox\",\"show\",\"feature\",\"saveAsImage\",\"pixelRatio\",\"restore\",\"dataZoom\",\"xAxisIndex\",\"bottom\",\"start\",\"end\",\"showDetail\",\"yAxisIndex\",\"right\",\"tooltip\",\"formatter\",\"position\",\"legend\",\"series\",\"zlevel\",\"effectType\",\"showEffectOn\",\"rippleEffect\",\"scale\",\"period\",\"brushType\",\"legendHoverLink\",\"hoverAnimation\",\"encode\",\"symbol\",\"symbolSize\",\"itemStyle\",\"color\",\"fontSize\",\"fontWeight\",\"emphasis\",\"backgroundColor\",\"xAxis\",\"min\",\"max\",\"axisLine\",\"lineStyle\",\"opacity\",\"axisLabel\",\"xlabel\",\"splitLine\",\"splitArea\",\"yAxis\",\"top\",\"setOption\",\"window\",\"addEventListener\",\"resize\",\"on\",\"search\",\"to_display\",\"graphs_graph_entityvue_type_script_lang_js_\",\"component\",\"componentNormalizer\",\"__webpack_exports__\",\"_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_1_2_5_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_6_2_vue_loader_lib_index_js_vue_loader_options_graph_entity_vue_vue_type_style_index_0_id_14cb4fd1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__\",\"_node_modules_mini_css_extract_plugin_0_5_0_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_1_2_5_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_6_2_vue_loader_lib_index_js_vue_loader_options_graph_entity_vue_vue_type_style_index_0_id_14cb4fd1_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default\",\"n\"],\"mappings\":\"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\",\"sourcesContent\":[\"var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{attrs:{\\\"type\\\":\\\"border-card\\\"}},_vm._l((_vm.items),function(data,index){return _c('el-tab-pane',{key:index,attrs:{\\\"label\\\":index}},[_c('div',{staticClass:\\\"graph\\\",attrs:{\\\"id\\\":_vm.keyWord+'_'+index}})])}),1)],1)}\\nvar staticRenderFns = []\\n\\nexport { render, staticRenderFns }\",\"<template>\\n  <!-- 需求图谱，基于散点图 -->\\n  <div>\\n    <el-tabs type=\\\"border-card\\\">\\n      <el-tab-pane v-for=\\\"(data, index) in items\\\" :key=index :label=\\\"index\\\">\\n        <div class=\\\"graph\\\" :id=\\\"keyWord+'_'+index\\\"></div>\\n      </el-tab-pane>\\n    </el-tabs>\\n  </div>\\n</template>\\n\\n<script>\\n  import $search from \\\"./../../util/search.js\\\"\\n  let echarts = require('echarts');\\n\\n  export default {\\n    name: \\\"demandMap\\\",\\n    props: {\\n      items: {\\n        type: Object,\\n        default () {\\n          return {\\n            \\\"test\\\": \\\"test\\\"\\n          }\\n        }\\n      },\\n      keyWord: {\\n        type: String,\\n        default () {\\n          return \\\"keyString\\\"\\n        }\\n      }\\n    },\\n    data() {\\n      return {}\\n    },\\n    mounted() {\\n      this.start_draw();\\n    },\\n    methods: {\\n      start_draw() {\\n        let itemData = this.items;\\n        for (var i in itemData) {\\n          console.log(\\\"key :\\\" + this.keyWord + \\\"_\\\" + i);\\n          let id = this.keyWord + \\\"_\\\" + i;\\n          this.draw_demandMap(id, itemData[i]);\\n        }\\n      },\\n      transform_data(data) {\\n        let result = [];\\n        for (let index in data) {\\n          let arr = [];\\n          // 计算坐标值，令点到中心的值=correlation，即correlation^2 = x^2 + y^2\\n          // 经过 abs() 和 log() 处理，平滑数据\\n          // let crela = Math.log(Math.abs(data[index].correlation)+1);\\n          let crela = data[index].correlation;\\n          crela = Math.abs(crela) + 1;\\n          crela = Math.log(crela);\\n          // 横坐标 x 不超过相关性的值\\n          let x = Math.random() * crela;\\n          // 随机正负\\n          x = x * (Math.random() > 0.5 ? 1 : -1);\\n          // 计算纵坐标 y\\n          let y = Math.sqrt(crela * crela - x * x);\\n          // 随机正负\\n          y = y * (Math.random() > 0.5 ? 1 : -1);\\n\\n          arr.push(x);\\n          arr.push(y);\\n          arr.push(data[index].name);\\n          arr.push(data[index].value);\\n          result.push(arr);\\n        }\\n        return result;\\n      },\\n      get_max_min(data, label) {\\n        // label=1时，求最大值; label=-1时，求最小值；\\n        let result = data[\\\"up\\\"][0].correlation;\\n        for (let i in data) {\\n          if (i === \\\"center\\\") continue;\\n          for (let j = 0; j < data[i].length; j++) {\\n            let flag = label * (result - data[i][j].correlation);\\n            if (flag < 0) {\\n              result = data[i][j].correlation;\\n            }\\n          }\\n        }\\n        result = Math.log(Math.abs(result + 1))\\n        return result;\\n      },\\n      tooltip_format(params) {\\n        let name = params.data[2];\\n        let value = params.data[3];\\n        let x = params.data[0];\\n        let y = params.data[1];\\n        let crela = Math.round(x * x + y * y);\\n        // 拼接字符串\\n        let str = \\\"\\\" + name + \\\"<br/> value: \\\" + value + \\\"<br/> correlation: \\\" + crela;\\n        return str;\\n      },\\n      draw_demandMap(id, data) {\\n        let graph_data = data.data;\\n        let graph_title = data.title;\\n        // 计算横纵轴的最大值\\n        let axis_max = this.get_max_min(graph_data, 1);\\n\\n        // 初始化\\n        let chart = document.getElementById(id);\\n\\n        var initial = function () {\\n          let chartParent = chart.parentNode.parentNode;\\n          chart.style.width = chartParent.clientWidth - 30 + \\\"px\\\";\\n          chart.style.margin = \\\"0 auto\\\";\\n          chart.style.height = (chartParent.clientWidth *0.75 - 30) + \\\"px\\\";\\n        }\\n        initial();\\n\\n\\n        // 获取中心点\\n        let center_data = this.transform_data(graph_data.center);\\n        // 获取上升点\\n        let up_data = this.transform_data(graph_data.up);\\n        // 获取下降点\\n        let down_data = this.transform_data(graph_data.down);\\n\\n        let myChart = echarts.init(chart);\\n\\n        // 组件高度\\n        // let contain_height = chart.offsetHeight;\\n        let chart_height = myChart.getWidth();\\n        // 组件宽度\\n        // let contain_width = chart.offsetWidth;\\n        let chart_width = myChart.getHeight();\\n\\n        let option = {\\n          title: {\\n            text: graph_title,\\n            subtext: \\\"距离中心点越近，相关性越强\\\",\\n            left: \\\"left\\\"\\n          },\\n          toolbox: {\\n            show: true,\\n            feature: {\\n              saveAsImage: {\\n                show: true,\\n                type: \\\"png\\\",\\n                pixelRatio: 3\\n              },\\n              restore: {\\n                show: true\\n              }\\n            }\\n          },\\n          // 数据区域缩放\\n          dataZoom: [\\n            {\\n              type: 'slider',\\n                // 控制x轴\\n                xAxisIndex: 0,\\n                bottom: \\\"1%\\\",\\n                start: 0,\\n                end: 100,\\n                showDetail: false,\\n            },\\n            {\\n                type: 'inside',\\n                // 控制x轴\\n                xAxisIndex: 0,\\n                start: 0,\\n                end: 100,\\n                showDetail: false,\\n            },\\n            {\\n                type: 'slider',\\n                // 控制y轴\\n                yAxisIndex: 0,\\n                right: \\\"1%\\\",\\n                start: 0,\\n                end: 100,\\n                showDetail: false,\\n            },\\n            {\\n                type: 'inside',\\n                // 控制y轴\\n                yAxisIndex: 0,\\n                start: 0,\\n                end: 100,\\n                showDetail: false,\\n            }\\n          ],\\n          tooltip: {\\n            show: true,\\n            // formatter: this.tooltip_format(params),\\n            formatter: function (params) {\\n              let name = params.data[2];\\n              let value = params.data[3];\\n              // 计算相关性\\n              let x = params.data[0];\\n              let y = params.data[1];\\n              let crela = Math.round(x * x + y * y);\\n              // 拼接字符串\\n              let str = \\\"\\\" + name + \\\"<br/> value: \\\" + value + \\\"<br/> distance: \\\" + crela;\\n              return str;\\n            },\\n            position: \\\"top\\\"\\n          },\\n          legend: {\\n            show: true,\\n            x: \\\"center\\\",\\n            y: \\\"5%\\\",\\n            data: [{\\n                name: \\\"上升\\\"\\n              },\\n              {\\n                name: \\\"下降\\\"\\n              }\\n            ]\\n          },\\n          series: [{\\n              // 中心点-------------------\\n              name: \\\"中心\\\",\\n              zlevel: -1,\\n              type: \\\"effectScatter\\\",\\n              effectType: \\\"ripple\\\",\\n              // 何时显示特效\\n              showEffectOn: \\\"render\\\",\\n              rippleEffect: {\\n                // 动画中波纹的最大缩放比例\\n                scale: 10,\\n                // 动画的周期，秒数\\n                period: 15,\\n                // 波纹绘制方式\\n                brushType: \\\"fill\\\"\\n              },\\n              // 图例 hover 时的联动高亮\\n              legendHoverLink: true,\\n              //是否开启鼠标 hover 的提示动画效果。\\n              hoverAnimation: true,\\n              // 使用的直角坐标系\\n              // coordinateSystem: \\\"cartesian2d\\\",\\n              encode: {\\n                x: 0,\\n                y: 1,\\n                label: 2,\\n              },\\n              symbol: 'circle',\\n              // symbolSize: axis_max,\\n              symbolSize: function (center_data) {\\n                // return center_data[3]\\n                return chart_width / 10;\\n              },\\n              // 图标样式\\n              itemStyle: {\\n                color: \\\"rgba(157,211,250,0.5)\\\",\\n\\n              },\\n              label: {\\n                show: true,\\n                color: \\\"#555\\\",\\n                fontSize: 20,\\n                fontWeight: \\\"bold\\\",\\n                position: \\\"inside\\\",\\n              },\\n              data: center_data\\n            },\\n            {\\n              // 下降的点-----------------------\\n              name: \\\"下降\\\",\\n              zlevel: 2,\\n              // 涟漪散点图\\n              type: \\\"effectScatter\\\",\\n              effectType: \\\"ripple\\\",\\n              showEffectOn: \\\"emphasis\\\",\\n              // 散点图\\n              // type: \\\"scatter\\\",\\n              // 图例 hover 时的联动高亮\\n              legendHoverLink: true,\\n              // 使用的直角坐标系\\n              // coordinateSystem: \\\"cartesian2d\\\",\\n              encode: {\\n                x: 0,\\n                y: 1,\\n                label: 2\\n              },\\n              symbol: 'circle',\\n              // symbolSize: contain_width / 30,\\n              symbolSize: function (params) {\\n                // return down_data[3]\\n                // return (chart.parentNode.parentNode.clientWidth) / 30;\\n                return chart_width/20 + 2 * Math.log(params[3]);\\n              },\\n              // 图标样式\\n              itemStyle: {\\n                // color: \\\"#45c14f\\\",\\n                // color: \\\"rgba(75,192,192,0.7)\\\",\\n                color: \\\"rgba(141, 218, 145,1)\\\",\\n              },\\n              label: {\\n                show: true,\\n                color: \\\"#555\\\",\\n                fontSize: 10,\\n                position: \\\"bottom\\\",\\n              },\\n              emphasis: {\\n                label: {\\n                  fontWeight: \\\"bold\\\",\\n                  fontSize: 16,\\n                  backgroundColor: \\\"#fff\\\",\\n                }\\n              },\\n              data: down_data\\n            },\\n            {\\n              // 上升的点-----------------------\\n              name: \\\"上升\\\",\\n              zlevel: 2,\\n              // 涟漪散点图\\n              type: \\\"effectScatter\\\",\\n              effectType: \\\"ripple\\\",\\n              showEffectOn: \\\"emphasis\\\",\\n              // 散点图\\n              // type: \\\"scatter\\\",\\n              // 图例 hover 时的联动高亮\\n              legendHoverLink: true,\\n              // 使用的直角坐标系\\n              // coordinateSystem: \\\"cartesian2d\\\",\\n              encode: {\\n                x: 0,\\n                y: 1,\\n                label: 2,\\n              },\\n              symbol: 'circle',\\n              // symbolSize: contain_width / 30,\\n              symbolSize: function (params) {\\n                return chart_width/20 + 2 * Math.log(params[3]);\\n              },\\n              // 图标样式\\n              itemStyle: {\\n                // color: \\\"#FFCC66\\\",\\n                color: \\\"rgba(255,206,86,0.7)\\\",\\n              },\\n              label: {\\n                show: true,\\n                color: \\\"#555\\\",\\n                fontSize: 10,\\n                position: \\\"bottom\\\",\\n              },\\n              emphasis: {\\n                label: {\\n                  fontWeight: \\\"bold\\\",\\n                  fontSize: 16,\\n                  backgroundColor: \\\"#fff\\\"\\n                }\\n              },\\n              data: up_data\\n            }\\n          ],\\n          // x轴--------------------------------------------------\\n          xAxis: [{\\n            show: true,\\n            zlevel: 20,\\n            type: 'value',\\n            // 坐标轴最大最小值\\n            min: -axis_max,\\n            max: axis_max,\\n            axisLine: {\\n              lineStyle: {\\n                color: \\\"#aaa\\\",\\n                opacity: 0.5\\n              }\\n            },\\n            axisLabel: {\\n              show: false,\\n              margin: chart_height / 25,\\n              fontWeight: \\\"bold\\\",\\n              formatter: function (value, index) {\\n                var xlabel = [\\\"弱相关\\\", \\\" \\\", '强相关', \\\" \\\", '强相关', \\\" \\\", '弱相关'];\\n                return xlabel[index]\\n              },\\n            },\\n            // x轴分割线\\n            splitLine: {\\n              show: false,\\n            },\\n            splitArea: {\\n              show: false,\\n            },\\n          }],\\n          // y轴--------------------------------------------------\\n          yAxis: [{\\n            show: false,\\n            zlevel: 0,\\n            type: 'value',\\n            top: \\\"10%\\\",\\n            min: -axis_max,\\n            max: axis_max,\\n          }],\\n        }\\n\\n        myChart.setOption(option);\\n\\n        window.addEventListener('resize', function () {\\n          initial();\\n          // chart.style.width = this.initial_style(chart);\\n          myChart.resize()\\n        })\\n\\n        myChart.on(\\\"click\\\", function (params) {\\n          // $router.push({\\n          //   path: \\\"/displayInfo\\\",\\n          //   query: {\\n          //     query: params.data[2]\\n          //   }\\n          // });\\n          $search.to_display(params.data[2])\\n\\n        })\\n      }\\n    }\\n  }\\n</script>\\n\\n<style scoped>\\n  .graph {\\n    width: 100%;\\n    min-height: 300px;\\n    /* max-height: 400px; */\\n  }\\n\\n  .tabs {\\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 3px 10px 0 rgba(0, 0, 0, 0.15);\\n    padding: 10px;\\n    /* border-radius: 5px; */\\n  }\\n</style>\",\"import mod from \\\"-!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./graph_entity.vue?vue&type=script&lang=js&\\\"; export default mod; export * from \\\"-!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./graph_entity.vue?vue&type=script&lang=js&\\\"\",\"import { render, staticRenderFns } from \\\"./graph_entity.vue?vue&type=template&id=14cb4fd1&scoped=true&\\\"\\nimport script from \\\"./graph_entity.vue?vue&type=script&lang=js&\\\"\\nexport * from \\\"./graph_entity.vue?vue&type=script&lang=js&\\\"\\nimport style0 from \\\"./graph_entity.vue?vue&type=style&index=0&id=14cb4fd1&scoped=true&lang=css&\\\"\\n\\n\\n/* normalize component */\\nimport normalizer from \\\"!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/runtime/componentNormalizer.js\\\"\\nvar component = normalizer(\\n  script,\\n  render,\\n  staticRenderFns,\\n  false,\\n  null,\\n  \\\"14cb4fd1\\\",\\n  null\\n  \\n)\\n\\nexport default component.exports\",\"import mod from \\\"-!../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./graph_entity.vue?vue&type=style&index=0&id=14cb4fd1&scoped=true&lang=css&\\\"; export default mod; export * from \\\"-!../../../node_modules/_mini-css-extract-plugin@0.5.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!./graph_entity.vue?vue&type=style&index=0&id=14cb4fd1&scoped=true&lang=css&\\\"\"]}","code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-95dd0992\"],{1053:function(t,e,a){},\"96d7\":function(t,e,a){\"use strict\";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"el-tabs\",{attrs:{type:\"border-card\"}},t._l(t.items,function(e,o){return a(\"el-tab-pane\",{key:o,attrs:{label:o}},[a(\"div\",{staticClass:\"graph\",attrs:{id:t.keyWord+\"_\"+o}})])}),1)],1)},n=[],r=(a(\"0a16\"),a(\"9cd3\")),i=a(\"f22d\"),s={name:\"demandMap\",props:{items:{type:Object,default:function(){return{test:\"test\"}}},keyWord:{type:String,default:function(){return\"keyString\"}}},data:function(){return{}},mounted:function(){this.start_draw()},methods:{start_draw:function(){var t=this.items;for(var e in t){console.log(\"key :\"+this.keyWord+\"_\"+e);var a=this.keyWord+\"_\"+e;this.draw_demandMap(a,t[e])}},transform_data:function(t){var e=[];for(var a in t){var o=[],n=t[a].correlation;n=Math.abs(n)+1,n=Math.log(n);var r=Math.random()*n;r*=Math.random()>.5?1:-1;var i=Math.sqrt(n*n-r*r);i*=Math.random()>.5?1:-1,o.push(r),o.push(i),o.push(t[a].name),o.push(t[a].value),e.push(o)}return e},get_max_min:function(t,e){var a=t[\"up\"][0].correlation;for(var o in t)if(\"center\"!==o)for(var n=0;n<t[o].length;n++){var r=e*(a-t[o][n].correlation);r<0&&(a=t[o][n].correlation)}return a=Math.log(Math.abs(a+1)),a},tooltip_format:function(t){var e=t.data[2],a=t.data[3],o=t.data[0],n=t.data[1],r=Math.round(o*o+n*n),i=e+\"<br/> value: \"+a+\"<br/> correlation: \"+r;return i},draw_demandMap:function(t,e){var a=e.data,o=e.title,n=this.get_max_min(a,1),s=document.getElementById(t),l=function(){var t=s.parentNode.parentNode;s.style.width=t.clientWidth-30+\"px\",s.style.margin=\"0 auto\",s.style.height=.75*t.clientWidth-30+\"px\"};l();var d=this.transform_data(a.center),c=this.transform_data(a.up),f=this.transform_data(a.down),h=i.init(s),p=h.getWidth(),u=h.getHeight(),m={title:{text:o,subtext:\"距离中心点越近，相关性越强\",left:\"left\"},toolbox:{show:!0,feature:{saveAsImage:{show:!0,type:\"png\",pixelRatio:3},restore:{show:!0}}},dataZoom:[{type:\"slider\",xAxisIndex:0,bottom:\"1%\",start:0,end:100,showDetail:!1},{type:\"inside\",xAxisIndex:0,start:0,end:100,showDetail:!1},{type:\"slider\",yAxisIndex:0,right:\"1%\",start:0,end:100,showDetail:!1},{type:\"inside\",yAxisIndex:0,start:0,end:100,showDetail:!1}],tooltip:{show:!0,formatter:function(t){var e=t.data[2],a=t.data[3],o=t.data[0],n=t.data[1],r=Math.round(o*o+n*n),i=e+\"<br/> value: \"+a+\"<br/> distance: \"+r;return i},position:\"top\"},legend:{show:!0,x:\"center\",y:\"5%\",data:[{name:\"上升\"},{name:\"下降\"}]},series:[{name:\"中心\",zlevel:-1,type:\"effectScatter\",effectType:\"ripple\",showEffectOn:\"render\",rippleEffect:{scale:10,period:15,brushType:\"fill\"},legendHoverLink:!0,hoverAnimation:!0,encode:{x:0,y:1,label:2},symbol:\"circle\",symbolSize:function(t){return u/10},itemStyle:{color:\"rgba(157,211,250,0.5)\"},label:{show:!0,color:\"#555\",fontSize:20,fontWeight:\"bold\",position:\"inside\"},data:d},{name:\"下降\",zlevel:2,type:\"effectScatter\",effectType:\"ripple\",showEffectOn:\"emphasis\",legendHoverLink:!0,encode:{x:0,y:1,label:2},symbol:\"circle\",symbolSize:function(t){return u/20+2*Math.log(t[3])},itemStyle:{color:\"rgba(141, 218, 145,1)\"},label:{show:!0,color:\"#555\",fontSize:10,position:\"bottom\"},emphasis:{label:{fontWeight:\"bold\",fontSize:16,backgroundColor:\"#fff\"}},data:f},{name:\"上升\",zlevel:2,type:\"effectScatter\",effectType:\"ripple\",showEffectOn:\"emphasis\",legendHoverLink:!0,encode:{x:0,y:1,label:2},symbol:\"circle\",symbolSize:function(t){return u/20+2*Math.log(t[3])},itemStyle:{color:\"rgba(255,206,86,0.7)\"},label:{show:!0,color:\"#555\",fontSize:10,position:\"bottom\"},emphasis:{label:{fontWeight:\"bold\",fontSize:16,backgroundColor:\"#fff\"}},data:c}],xAxis:[{show:!0,zlevel:20,type:\"value\",min:-n,max:n,axisLine:{lineStyle:{color:\"#aaa\",opacity:.5}},axisLabel:{show:!1,margin:p/25,fontWeight:\"bold\",formatter:function(t,e){var a=[\"弱相关\",\" \",\"强相关\",\" \",\"强相关\",\" \",\"弱相关\"];return a[e]}},splitLine:{show:!1},splitArea:{show:!1}}],yAxis:[{show:!1,zlevel:0,type:\"value\",top:\"10%\",min:-n,max:n}]};h.setOption(m),window.addEventListener(\"resize\",function(){l(),h.resize()}),h.on(\"click\",function(t){r[\"a\"].to_display(t.data[2])})}}},l=s,d=(a(\"b3c1\"),a(\"fc05\")),c=Object(d[\"a\"])(l,o,n,!1,null,\"14cb4fd1\",null);e[\"default\"]=c.exports},b3c1:function(t,e,a){\"use strict\";var o=a(\"1053\"),n=a.n(o);n.a}}]);","extractedComments":[]}