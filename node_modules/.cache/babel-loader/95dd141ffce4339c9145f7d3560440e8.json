{"remainingRequest":"/home/ky02/ai-project/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!/home/ky02/ai-project/node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!/home/ky02/ai-project/src/components/graphs/graph_relation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ky02/ai-project/src/components/graphs/graph_relation.vue","mtime":1574946998951},{"path":"/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js","mtime":1574947018363},{"path":"/home/ky02/ai-project/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js","mtime":1574947019787},{"path":"/home/ky02/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js","mtime":1574947018363},{"path":"/home/ky02/ai-project/node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js","mtime":1574947026300}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.link\";\nimport \"core-js/modules/es6.function.name\";\nimport _parseInt from \"/home/ky02/ai-project/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport $search from \"./../../util/search.js\";\nimport $graphs from \"./../../util/drawGraphs.js\";\n\nvar echarts = require('echarts');\n\nexport default {\n  name: \"relation\",\n  props: {\n    items: {\n      type: Object,\n      default: function _default() {\n        return {\n          \"test\": \"test\"\n        };\n      }\n    },\n    keyWord: {\n      type: String,\n      default: function _default() {\n        return \"keyString\";\n      }\n    }\n  },\n  data: function data() {\n    return {// graph_title: \"专家合作网络\"\n    };\n  },\n  mounted: function mounted() {\n    this.start_draw();\n  },\n  methods: {\n    start_draw: function start_draw() {\n      var itemData = this.items;\n\n      for (var i in itemData) {\n        console.log(\"key :\" + this.keyWord + \"_\" + i);\n        var id = this.keyWord + \"_\" + i;\n        this.draw_relation(id, itemData[i]);\n      }\n    },\n    draw_relation: function draw_relation(id, graph_data) {\n      var graph_title = graph_data.title;\n      var data = graph_data.data; // 专家信息\n\n      var graph_detail = graph_data.detail; // 初始化\n\n      var chart = document.getElementById(id);\n\n      var initial = function initial() {\n        var chartParent = chart.parentNode.parentNode;\n        chart.style.width = chartParent.clientWidth - 30 + \"px\";\n        chart.style.margin = \"0 auto\";\n        chart.style.height = chartParent.clientWidth * 0.75 - 30 + \"px\"; // chart.style.height = (chartParent.clientHeight) + \"px\";\n      };\n\n      initial(); // 数据中点的个数\n\n      var nodes = data.node;\n      var node_num = nodes.length; // 色盘\n      // let colors = [\"#D53A35\", \"#334B5C\", \"#D48265\", \"#9FDABF\",\"#8E8DBE\", \"#7A306C\", \"#7FAE90\", \"#DE9325\", \"#CFB2A9\", \"#797B7F\"]\n      // let colors = [ \"rgba(90, 125, 124, 1)\", \"#12569B\",\"#DE9325\", \"#CFB2A9\", \"#797B7F\"]\n\n      var colors = [\"rgba(255,99,132,0.8)\", \"rgba(75,192,192,0.8)\", \"rgba(153,102,255,0.8)\", \"rgba(255,206,86,0.8)\", \"rgba(54,162,235,0.8)\", \"rgba(255,159,64,0.8)\"]; // let colors = [\"rgba(93, 97, 140, 1)\", \"rgba(242, 153, 68, 1)\", \"rgba(146, 94, 136, 1)\", \"rgba(141, 161, 185, 1)\", \"rgba(153, 151, 174, 1)\"]\n      // echarts 实例初始化\n\n      var myChart = echarts.init(chart); // 计算节点大小\n\n      var min_size = myChart.getWidth() / node_num * 0.8;\n      var max_size = myChart.getWidth() / node_num * 4;\n      var minus = max_size - min_size;\n      var option = {\n        title: {\n          text: graph_title\n        },\n        animationDurationUpdate: 1500,\n        animationEasingUpdate: 'quinticInOut',\n        toolbox: {\n          show: true,\n          feature: {\n            saveAsImage: {\n              show: true,\n              type: \"png\",\n              pixelRatio: 3\n            },\n            restore: {\n              show: true\n            }\n          }\n        },\n        tooltip: {\n          show: true\n        },\n        series: [{\n          type: 'graph',\n          // --------------------------\n          // 布局类型\n          // layout: \"none\",\n          // layout: 'circular',\n          // circular: {\n          //   rotateLabel: true,\n          // },\n          layout: 'force',\n          force: {\n            initLayout: \"circular\",\n            // 斥力\n            repulsion: 300,\n            gravity: 0.25,\n            // edgeLength: [(myChart.getWidth()/node_num), (myChart.getWidth() / node_num +200)]\n            edgeLength: [myChart.getWidth() / 12 + min_size, myChart.getWidth() / 8 + min_size]\n          },\n          // --------------------------\n          // 位置\n          top: \"15%\",\n          bottom: \"10%\",\n          right: \"15%\",\n          left: \"15%\",\n          progressiveThreshold: 500,\n          roam: true,\n          focusNodeAdjacency: true,\n          // 点的数据  ---------------------------------\n          data: data.node.map(function (node, index) {\n            var symbolSize = min_size + node.value / 100 * minus;\n            var color_index = node.value / 10 > colors.length ? node.value / 10 % colors.length : node.value / 10;\n            color_index = _parseInt(color_index);\n            return {\n              name: node.name,\n              value: node.value,\n              symbolSize: symbolSize,\n              // symbolSize: node_num>20 ? (chart.parentNode.parentNode.clientWidth / 17) : (chart.parentNode.parentNode.clientWidth / 10),\n              itemStyle: {\n                color: colors[color_index],\n                opacity: 0.9\n              },\n              tooltip: {\n                position: [\"1%\", \"8%\"],\n                formatter: function formatter(params) {\n                  if (params.dataType === \"edge\") {\n                    return params.data.source + \" + \" + params.data.target;\n                  } else if (params.dataType === \"node\") {\n                    return $graphs.get_detail(node.name, graph_detail);\n                  }\n                }\n              }\n            };\n          }),\n          // 边的数据  ---------------------------------\n          links: data.link.map(function (link) {\n            return {\n              source: link.source,\n              target: link.target\n            };\n          }),\n          // 边两端标记\n          edgeSymbol: ['none', 'none'],\n          edgeSymbolSize: 5,\n          label: {\n            show: true,\n            position: \"right\",\n            color: \"#000\"\n          },\n          lineStyle: {\n            width: 1,\n            curveness: 0.3,\n            opacity: 0.9\n          },\n          // 强调样式\n          emphasis: {\n            label: {\n              show: true,\n              position: 'inside',\n              fontSize: 18,\n              fontWeight: \"bold\",\n              color: \"#000\",\n              textBorderColor: \"#fff\",\n              textBorderWidth: 2\n            },\n            itemStyle: {\n              shadowColor: 'rgba(0, 0, 0, 0.5)',\n              shadowBlur: 5,\n              opacity: 1\n            },\n            lineStyle: {\n              width: 1.5,\n              color: \"#000\",\n              opacity: 1 // shadowColor: 'rgba(0, 0, 0, 0.7)',\n              // shadowBlur: 5,\n\n            },\n            edgeLabel: {\n              show: false,\n              color: \"#000\" // formatter: function (params) {\n              //   return params.data.source + \"-->\" + params.data.target;\n              // }\n\n            }\n          }\n        }]\n      };\n      myChart.setOption(option);\n      window.addEventListener('resize', function () {\n        initial(); // chart.style.width = this.initial_style(chart);\n\n        myChart.resize();\n      });\n      myChart.on(\"click\", function (params) {\n        if (params.dataType === \"node\") {\n          // $router.push({\n          //   path: \"/displayInfo\",\n          //   query: {query: params.data.name}\n          // })\n          $search.to_display(params.data.name);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["graph_relation.vue"],"names":[],"mappings":"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","sourcesContent":["// 关系图\n<template>\n  <div>\n    <el-tabs type=\"border-card\">\n      <el-tab-pane v-for=\"(data, index) in items\" :key=index :label=\"index\">\n        <div class=\"graph\" :id=\"keyWord+'_'+index\"></div>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n<script>\n  import $search from \"./../../util/search.js\"\n  import $graphs from \"./../../util/drawGraphs.js\"\n  let echarts = require('echarts');\n\n  export default {\n    name: \"relation\",\n    props: {\n      items: {\n        type: Object,\n        default () {\n          return {\n            \"test\": \"test\"\n          }\n        }\n      },\n      keyWord: {\n        type: String,\n        default () {\n          return \"keyString\"\n        }\n      }\n    },\n    data() {\n      return {\n        // graph_title: \"专家合作网络\"\n      }\n    },\n    mounted() {\n      this.start_draw();\n    },\n    methods: {\n      start_draw() {\n        let itemData = this.items;\n        for (var i in itemData) {\n          console.log(\"key :\" + this.keyWord + \"_\" + i);\n          let id = this.keyWord + \"_\" + i;\n          this.draw_relation(id, itemData[i]);\n        }\n      },\n      draw_relation(id, graph_data) {\n        let graph_title = graph_data.title;\n        let data = graph_data.data;\n        // 专家信息\n        let graph_detail = graph_data.detail;\n\n        // 初始化\n        let chart = document.getElementById(id);\n\n        var initial = function () {\n          let chartParent = chart.parentNode.parentNode;\n          chart.style.width = chartParent.clientWidth - 30 + \"px\";\n          chart.style.margin = \"0 auto\";\n          chart.style.height = (chartParent.clientWidth *0.75 - 30) + \"px\";\n          // chart.style.height = (chartParent.clientHeight) + \"px\";\n        }\n        initial();\n\n        // 数据中点的个数\n        let nodes = data.node;\n        let node_num = nodes.length;\n\n        // 色盘\n        // let colors = [\"#D53A35\", \"#334B5C\", \"#D48265\", \"#9FDABF\",\"#8E8DBE\", \"#7A306C\", \"#7FAE90\", \"#DE9325\", \"#CFB2A9\", \"#797B7F\"]\n        // let colors = [ \"rgba(90, 125, 124, 1)\", \"#12569B\",\"#DE9325\", \"#CFB2A9\", \"#797B7F\"]\n        let colors = [\"rgba(255,99,132,0.8)\",  \"rgba(75,192,192,0.8)\", \"rgba(153,102,255,0.8)\",  \"rgba(255,206,86,0.8)\", \"rgba(54,162,235,0.8)\",\"rgba(255,159,64,0.8)\"]\n        // let colors = [\"rgba(93, 97, 140, 1)\", \"rgba(242, 153, 68, 1)\", \"rgba(146, 94, 136, 1)\", \"rgba(141, 161, 185, 1)\", \"rgba(153, 151, 174, 1)\"]\n\n        // echarts 实例初始化\n        let myChart = echarts.init(chart);\n\n        // 计算节点大小\n        let min_size = myChart.getWidth() / node_num * 0.8;\n        let max_size = myChart.getWidth() / node_num * 4;\n        let minus = max_size - min_size;\n\n        let option = {\n          title: {\n            text: graph_title\n          },\n          animationDurationUpdate: 1500,\n          animationEasingUpdate: 'quinticInOut',\n          toolbox: {\n            show: true,\n            feature: {\n              saveAsImage: {\n                show: true,\n                type: \"png\",\n                pixelRatio: 3\n              },\n              restore: {\n                show: true,\n              }\n            }\n          },\n          tooltip:{\n            show: true\n          },\n          series: [{\n            type: 'graph',\n            // --------------------------\n            // 布局类型\n            // layout: \"none\",\n            // layout: 'circular',\n            // circular: {\n            //   rotateLabel: true,\n            // },\n            layout: 'force',\n            force: {\n              initLayout: \"circular\",\n              // 斥力\n              repulsion: 300,\n              gravity: 0.25,\n              // edgeLength: [(myChart.getWidth()/node_num), (myChart.getWidth() / node_num +200)]\n              edgeLength: [(myChart.getWidth()/12)+min_size, (myChart.getWidth()/8)+min_size]\n            },\n            // --------------------------\n\n            // 位置\n            top: \"15%\",\n            bottom: \"10%\",\n            right: \"15%\",\n            left: \"15%\",\n            progressiveThreshold: 500,\n            roam: true,\n            focusNodeAdjacency: true,\n            // 点的数据  ---------------------------------\n            data: data.node.map(function (node, index) {\n\n              let symbolSize = min_size + (node.value / 100 * minus);\n              let color_index = ((node.value/10) > colors.length)? ((node.value/10)%colors.length) : (node.value/10);\n              color_index = parseInt(color_index)\n\n              return {\n                name: node.name,\n                value: node.value,\n                symbolSize: symbolSize,\n                // symbolSize: node_num>20 ? (chart.parentNode.parentNode.clientWidth / 17) : (chart.parentNode.parentNode.clientWidth / 10),\n                itemStyle: {\n                  color: colors[color_index],\n                  opacity: 0.9\n                },\n                tooltip: {\n                  position: [\"1%\", \"8%\"],\n                  formatter: function (params) {\n                    if (params.dataType === \"edge\") {\n                      return params.data.source + \" + \" + params.data.target;\n                    } else if (params.dataType === \"node\") {\n                      return $graphs.get_detail(node.name, graph_detail)\n                    }\n                  }\n                }\n              };\n            }),\n            // 边的数据  ---------------------------------\n            links: data.link.map(function (link) {\n              return {\n                source: link.source,\n                target: link.target\n              };\n            }),\n            // 边两端标记\n            edgeSymbol: ['none', 'none'],\n            edgeSymbolSize: 5,\n            label: {\n              show: true,\n              position: \"right\",\n              color: \"#000\"\n            },\n            lineStyle: {\n              width: 1,\n              curveness: 0.3,\n              opacity: 0.9\n            },\n            // 强调样式\n            emphasis: {\n              label: {\n                show: true,\n                position: 'inside',\n                fontSize: 18,\n                fontWeight: \"bold\",\n                color: \"#000\",\n                textBorderColor: \"#fff\",\n                textBorderWidth: 2\n              },\n              itemStyle: {\n                shadowColor: 'rgba(0, 0, 0, 0.5)',\n                shadowBlur: 5,\n                opacity: 1\n              },\n              lineStyle: {\n                width: 1.5,\n                color: \"#000\",\n                opacity: 1,\n                // shadowColor: 'rgba(0, 0, 0, 0.7)',\n                // shadowBlur: 5,\n              },\n              edgeLabel: {\n                show: false,\n                color: \"#000\",\n                // formatter: function (params) {\n                //   return params.data.source + \"-->\" + params.data.target;\n                // }\n              }\n            }\n          }]\n        };\n\n        myChart.setOption(option);\n\n        window.addEventListener('resize', function () {\n          initial();\n          // chart.style.width = this.initial_style(chart);\n          myChart.resize()\n        })\n\n        myChart.on(\"click\", function (params) {\n          if (params.dataType === \"node\") {\n            // $router.push({\n            //   path: \"/displayInfo\",\n            //   query: {query: params.data.name}\n            // })\n            $search.to_display(params.data.name)\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .graph {\n    width: 100%;\n    min-height: 300px;\n    /* max-height: 400px; */\n  }\n\n  .tabs {\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 3px 10px 0 rgba(0, 0, 0, 0.15);\n    padding: 10px;\n    /* border-radius: 5px; */\n  }\n</style>"],"sourceRoot":"src/components/graphs"}]}