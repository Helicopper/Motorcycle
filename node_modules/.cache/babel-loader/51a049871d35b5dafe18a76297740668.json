{"remainingRequest":"/ssd1/gfy/ai-project/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!/ssd1/gfy/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js??ref--0-0!/ssd1/gfy/ai-project/node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js??vue-loader-options!/ssd1/gfy/ai-project/src/components/display_info/DisplayVisual2_f11_bar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/ssd1/gfy/ai-project/src/components/display_info/DisplayVisual2_f11_bar.vue","mtime":1584435069000},{"path":"/ssd1/gfy/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js","mtime":1574947018000},{"path":"/ssd1/gfy/ai-project/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js","mtime":1574947019000},{"path":"/ssd1/gfy/ai-project/node_modules/_cache-loader@1.2.5@cache-loader/dist/cjs.js","mtime":1574947018000},{"path":"/ssd1/gfy/ai-project/node_modules/_vue-loader@15.6.2@vue-loader/lib/index.js","mtime":1574947026000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/ssd1/gfy/ai-project/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport bar from \"../graphs/graph_bar.vue\"; //import geo from \"../graphs/graph_geo.vue\"\n//import tree from \"../graphs/graph_tree.vue\"\n//import pie from \"../graphs/graph_pie.vue\"\n\nexport default {\n  name: \"DisplayVisual_f11_bar\",\n  data: function data() {\n    return {// iftree: true\n    };\n  },\n  mounted: function mounted() {// 生成可视化图表\n    // this.generate_charts();\n  },\n  computed: {\n    graph_data: function graph_data() {\n      return this.$bus.get_result_graph();\n    }\n  },\n\n  /*\n  还需要优化的问题：\n  1. 按需加载图表组件，不要一次性导入全部组件。异步组件\n  */\n  updated: function updated() {\n    // generate_charts需要在dom元素更新之后才能调用，故使用updated，而不是用mounted\n    this.generate_charts();\n    console.log('更新成功啦!');\n  },\n  methods: {\n    // 生成所有图\n    generate_charts: function generate_charts() {\n      // 获取可视化数据\n      var visual_data = this.$bus.get_result_graph(); // 获得每一个图的数据，调用图表组件，传入数据\n\n      var key = 'bar_whole_price'; // console.log(key)\n      // 调用constructor\n\n      var ifUnknown = _JSON$stringify(visual_data[key]);\n\n      console.log(ifUnknown);\n      console.log(ifUnknown.indexOf('\"data\":\"UNKNOWN\"')); // data数据存在\n\n      if (ifUnknown.indexOf('\"data\":\"UNKNOWN\"') === -1) {\n        if (this.typeOf(key)) {\n          // console.log(\"key==\"+key+\",visual_data[key]==\"+visual_data[key]);\n          // 调用construct_graph方法，传入key和data\n          this.construct_graph(key, visual_data[key]);\n        }\n      } else {\n        // data数据不存在\n        console.log(\"===================================\");\n        console.log(key + \"图的data数据为unknown\");\n        console.log(\"===================================\");\n      }\n    },\n    // 构造图组件子类，实现挂载\n    construct_graph: function construct_graph(keyString, data) {\n      // Vue.extend全局API，组件构造器，必须要import Vue才能使用\n      var component_subclass = Vue.extend(this.typeOf(keyString));\n      console.log(this.typeOf(keyString)); // new一个子类，实现挂载\n\n      new component_subclass({\n        // propsData：数据传输管道，将图的数据传给调用的组件\n        propsData: {\n          items: data,\n          keyWord: keyString //$mount方法将构造器返回的\"未挂载的\"组件\"graph_linefold\"挂载到相应id的挂载点\n\n        }\n      }).$mount(\"#\" + keyString);\n    },\n    // 查询key对应需要的组件\n    typeOf: function typeOf(keyString) {\n      // 所有图的key，用数字表示图的类型。\n      var keyType = {\n        \"bar_whole_price\": bar\n      };\n      return keyType[keyString];\n    }\n  },\n  components: {\n    \"bar_whole_price\": bar\n  }\n};",{"version":3,"sources":["DisplayVisual2_f11_bar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAYA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,GAAA,MAAA,yBAAA,C,CACA;AACA;AACA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,uBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA,CACA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAPA,qBAOA,CACA;AACA;AACA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,aAAA,KAAA,IAAA,CAAA,gBAAA,EAAA;AACA;AAHA,GAXA;;AAiBA;;;;AAKA,EAAA,OAAA,EAAA,mBAAA;AACA;AACA,SAAA,eAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,GA1BA;AA4BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,eAFA,6BAEA;AACA;AACA,UAAA,WAAA,GAAA,KAAA,IAAA,CAAA,gBAAA,EAAA,CAFA,CAGA;;AACA,UAAA,GAAA,GAAA,iBAAA,CAJA,CAKA;AACA;;AACA,UAAA,SAAA,GAAA,gBAAA,WAAA,CAAA,GAAA,CAAA,CAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,SAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,EATA,CAUA;;AAEA,UAAA,SAAA,CAAA,OAAA,CAAA,kBAAA,MAAA,CAAA,CAAA,EAAA;AACA,YAAA,KAAA,MAAA,CAAA,GAAA,CAAA,EAAA;AACA;AACA;AACA,eAAA,eAAA,CAAA,GAAA,EAAA,WAAA,CAAA,GAAA,CAAA;AACA;AACA,OANA,MAOA;AAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,qCAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,GAAA,kBAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,qCAAA;AACA;AACA,KA1BA;AA2BA;AAEA,IAAA,eA7BA,2BA6BA,SA7BA,EA6BA,IA7BA,EA6BA;AACA;AACA,UAAA,kBAAA,GAAA,GAAA,CAAA,MAAA,CAAA,KAAA,MAAA,CAAA,SAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA,CAAA,SAAA,CAAA,EAHA,CAIA;;AACA,UAAA,kBAAA,CAAA;AACA;AACA,QAAA,SAAA,EAAA;AACA,UAAA,KAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,SAFA,CAIA;;AAJA;AAFA,OAAA,EAOA,MAPA,CAOA,MAAA,SAPA;AAQA,KA1CA;AA4CA;AACA,IAAA,MA7CA,kBA6CA,SA7CA,EA6CA;AACA;AACA,UAAA,OAAA,GAAA;AACA,2BAAA;AADA,OAAA;AAGA,aAAA,OAAA,CAAA,SAAA,CAAA;AACA;AAnDA,GA5BA;AAiFA,EAAA,UAAA,EAAA;AACA,uBAAA;AADA;AAjFA,CAAA","sourcesContent":["<template>\n  <div class=\"display-visual\">\n\n    <!--根据数据循环生成所有的图的挂载点-->\n    <div class=\"display-graph\" v-for=\"(graphData, index) in graph_data\" :key=index>\n      <!-- <div :id=\"index\">图形id：{{index}}。这个图形还未完成  请期待......</div>  -->\n      <div :id=\"index\"></div>\n    </div>\n\n  </div>\n</template>\n<script>\n  import Vue from 'vue'\n  import bar from \"../graphs/graph_bar.vue\"\n  //import geo from \"../graphs/graph_geo.vue\"\n  //import tree from \"../graphs/graph_tree.vue\"\n  //import pie from \"../graphs/graph_pie.vue\"\n export default {\n  name: \"DisplayVisual_f11_bar\",\n  data() {\n      return {\n        // iftree: true\n      }\n    },\n  mounted() {\n      // 生成可视化图表\n      // this.generate_charts();\n    },\n  computed: {\n      graph_data() {\n        return this.$bus.get_result_graph();\n      },\n    },\n   \n    /*\n    还需要优化的问题：\n    1. 按需加载图表组件，不要一次性导入全部组件。异步组件\n    */\n    \n\tupdated: function() {\n      // generate_charts需要在dom元素更新之后才能调用，故使用updated，而不是用mounted\n      this.generate_charts(); \n\t\t\tconsole.log('更新成功啦!');\n    },\n\n  methods: { \n      // 生成所有图\n    generate_charts() { \n        // 获取可视化数据\n\t\t\t\tlet visual_data = this.$bus.get_result_graph();\n        // 获得每一个图的数据，调用图表组件，传入数据\n        let key = 'bar_whole_price';\n          // console.log(key)\n          // 调用constructor\n\t\t\t\tlet ifUnknown = JSON.stringify(visual_data[key]);\n        console.log(ifUnknown);\n        console.log(ifUnknown.indexOf('\"data\":\"UNKNOWN\"'));\n          // data数据存在\n\t\t\t\t\t\n        if(ifUnknown.indexOf('\"data\":\"UNKNOWN\"') === -1){ \n              if (this.typeOf(key)){\n                // console.log(\"key==\"+key+\",visual_data[key]==\"+visual_data[key]);\n                // 调用construct_graph方法，传入key和data\n                this.construct_graph(key,visual_data[key]);\n              }\n          }\n\t\t\t\t\telse { // data数据不存在\n            console.log(\"===================================\");\n            console.log(key+\"图的data数据为unknown\");\n            console.log(\"===================================\");\n          }\n      },\n      // 构造图组件子类，实现挂载\n\n    construct_graph(keyString, data) {\n        // Vue.extend全局API，组件构造器，必须要import Vue才能使用\n        let component_subclass = Vue.extend(this.typeOf(keyString));\n\t\t\t\tconsole.log(this.typeOf(keyString));\n        // new一个子类，实现挂载\n        new component_subclass({\n          // propsData：数据传输管道，将图的数据传给调用的组件\n          propsData:{\n            items: data,\n            keyWord: keyString\n          }\n          //$mount方法将构造器返回的\"未挂载的\"组件\"graph_linefold\"挂载到相应id的挂载点\n        }).$mount(\"#\" + keyString);\n      },\n\n      // 查询key对应需要的组件\n\t\ttypeOf(keyString){\n        // 所有图的key，用数字表示图的类型。\n        let keyType = {\n          \"bar_whole_price\":bar\n\t\t\t\t}\n\t\t\t\treturn keyType[keyString];\n    }\n  },\n  components: {\n      \"bar_whole_price\": bar\n    }\n  }\n\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src/components/display_info"}]}